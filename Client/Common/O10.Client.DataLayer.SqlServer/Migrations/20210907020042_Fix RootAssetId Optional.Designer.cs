// <auto-generated />
using System;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Metadata;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using O10.Client.DataLayer.SqlServer;

namespace O10.Client.DataLayer.SqlServer.Migrations
{
    [DbContext(typeof(SqlServerDataContext))]
    [Migration("20210907020042_Fix RootAssetId Optional")]
    partial class FixRootAssetIdOptional
    {
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "3.1.16")
                .HasAnnotation("Relational:MaxIdentifierLength", 128)
                .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

            modelBuilder.Entity("O10.Client.DataLayer.ElectionCommittee.EcCandidateRecord", b =>
                {
                    b.Property<long>("EcCandidateRecordId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<string>("AssetId")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<long>("EcPollRecordId")
                        .HasColumnType("bigint");

                    b.Property<bool>("IsActive")
                        .HasColumnType("bit");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("EcCandidateRecordId");

                    b.HasIndex("EcPollRecordId");

                    b.HasIndex("Name");

                    b.ToTable("EcCandidateRecords");
                });

            modelBuilder.Entity("O10.Client.DataLayer.ElectionCommittee.EcPollRecord", b =>
                {
                    b.Property<long>("EcPollRecordId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long>("AccountId")
                        .HasColumnType("bigint");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<int>("State")
                        .HasColumnType("int");

                    b.HasKey("EcPollRecordId");

                    b.HasIndex("Name");

                    b.ToTable("EcPollRecords");
                });

            modelBuilder.Entity("O10.Client.DataLayer.ElectionCommittee.EcPollSelection", b =>
                {
                    b.Property<long>("EcPollSelectionId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<string>("EcBlindingFactor")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("EcCommitment")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<long>("EcPollRecordId")
                        .HasColumnType("bigint");

                    b.Property<string>("VoterBlindingFactor")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("EcPollSelectionId");

                    b.HasIndex("EcCommitment");

                    b.HasIndex("EcPollRecordId");

                    b.ToTable("EcPollSelections");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.Account", b =>
                {
                    b.Property<long>("AccountId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<string>("AccountInfo")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<byte>("AccountType")
                        .HasColumnType("tinyint");

                    b.Property<bool>("IsCompromised")
                        .HasColumnType("bit");

                    b.Property<bool>("IsPrivate")
                        .HasColumnType("bit");

                    b.Property<long>("LastAggregatedRegistrations")
                        .HasColumnType("bigint");

                    b.Property<byte[]>("PublicSpendKey")
                        .IsRequired()
                        .HasColumnType("varbinary(max)");

                    b.Property<byte[]>("PublicViewKey")
                        .HasColumnType("varbinary(max)");

                    b.Property<byte[]>("SecretSpendKey")
                        .IsRequired()
                        .HasColumnType("varbinary(max)");

                    b.Property<byte[]>("SecretViewKey")
                        .HasColumnType("varbinary(max)");

                    b.HasKey("AccountId");

                    b.ToTable("Accounts");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.AccountKeyValue", b =>
                {
                    b.Property<long>("AccountKeyValueId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long>("AccountId")
                        .HasColumnType("bigint");

                    b.Property<string>("Key")
                        .IsRequired()
                        .HasColumnType("nvarchar(255)")
                        .HasMaxLength(255);

                    b.Property<string>("Value")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("AccountKeyValueId");

                    b.HasIndex("AccountId");

                    b.HasIndex("Key");

                    b.ToTable("AccountKeyValues");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.AssociatedAttributeBackup", b =>
                {
                    b.Property<long>("AssociatedAttributeBackupId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<string>("AssociatedIssuer")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Content")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("RootAssetId")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("RootIssuer")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("SchemeName")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("AssociatedAttributeBackupId");

                    b.HasIndex("RootAssetId");

                    b.HasIndex("RootIssuer");

                    b.ToTable("AssociatedAttributeBackups");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.AutoLogin", b =>
                {
                    b.Property<long>("AutoLoginId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long>("AccountId")
                        .HasColumnType("bigint");

                    b.Property<byte[]>("SecretKey")
                        .IsRequired()
                        .HasColumnType("varbinary(max)");

                    b.HasKey("AutoLoginId");

                    b.HasIndex("AccountId");

                    b.ToTable("AutoLogins");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.BiometricRecord", b =>
                {
                    b.Property<long>("BiometricRecordId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<Guid>("PersonGuid")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("UserData")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("BiometricRecordId");

                    b.HasIndex("UserData")
                        .IsUnique();

                    b.ToTable("BiometricRecords");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.ConsentManagement.ConsentManagementSettings", b =>
                {
                    b.Property<long>("ConsentManagementSettingsId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long>("AccountId")
                        .HasColumnType("bigint");

                    b.HasKey("ConsentManagementSettingsId");

                    b.ToTable("ConsentManagementSettings");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.ExternalIdentityProvider", b =>
                {
                    b.Property<long>("ExternalIdentityProviderId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long>("AccountId")
                        .HasColumnType("bigint");

                    b.Property<string>("Alias")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("ExternalIdentityProviderId");

                    b.HasIndex("Name")
                        .IsUnique();

                    b.ToTable("ExternalIdentityProviders");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.IdentitiesScheme", b =>
                {
                    b.Property<long>("IdentitiesSchemeId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<string>("Alias")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("AttributeName")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("AttributeSchemeName")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("CanBeRoot")
                        .HasColumnType("bit");

                    b.Property<string>("Description")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("IsActive")
                        .HasColumnType("bit");

                    b.Property<string>("Issuer")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("IdentitiesSchemeId");

                    b.HasIndex("AttributeName");

                    b.HasIndex("Issuer");

                    b.ToTable("IdentitiesSchemes");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.Identity", b =>
                {
                    b.Property<long>("IdentityId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long>("AccountId")
                        .HasColumnType("bigint");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("IdentityId");

                    b.ToTable("Identities");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.IdentityAttribute", b =>
                {
                    b.Property<long>("AttributeId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<string>("AttributeName")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Commitment")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("Content")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<long?>("IdentityId")
                        .HasColumnType("bigint");

                    b.Property<int>("Subject")
                        .HasColumnType("int");

                    b.HasKey("AttributeId");

                    b.HasIndex("Commitment");

                    b.HasIndex("IdentityId");

                    b.ToTable("IdentityAttributes");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.IdentityTarget", b =>
                {
                    b.Property<long>("IdentityTargetId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long>("IdentityId")
                        .HasColumnType("bigint");

                    b.Property<string>("PublicSpendKey")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("PublicViewKey")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("IdentityTargetId");

                    b.HasIndex("IdentityId");

                    b.ToTable("IdentityTargets");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.Inherence.InherenceSetting", b =>
                {
                    b.Property<long>("InherenceSettingId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long>("AccountId")
                        .HasColumnType("bigint");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("InherenceSettingId");

                    b.HasIndex("Name")
                        .IsUnique();

                    b.ToTable("InherenceSettings");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.ProcessedWitness", b =>
                {
                    b.Property<long>("ProcessedWitnessId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long>("AccountId")
                        .HasColumnType("bigint");

                    b.Property<DateTime>("Time")
                        .HasColumnType("datetime2");

                    b.Property<long>("WitnessId")
                        .HasColumnType("bigint");

                    b.HasKey("ProcessedWitnessId");

                    b.HasIndex("AccountId", "WitnessId")
                        .IsUnique();

                    b.ToTable("ProcessedWitnesss");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.SamlIdentityProvider", b =>
                {
                    b.Property<long>("SamlIdentityProviderId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<string>("EntityId")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("PublicSpendKey")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("SecretViewKey")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("SamlIdentityProviderId");

                    b.HasIndex("EntityId");

                    b.ToTable("SamlIdentityProviders");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.SamlServiceProvider", b =>
                {
                    b.Property<long>("SamlServiceProviderId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<string>("EntityId")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("SingleLogoutUrl")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("SamlServiceProviderId");

                    b.HasIndex("EntityId");

                    b.ToTable("SamlServiceProviders");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.SamlSettings", b =>
                {
                    b.Property<long>("SamlSettingsId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long>("DefaultSamlIdpAccountId")
                        .HasColumnType("bigint");

                    b.Property<long>("DefaultSamlIdpId")
                        .HasColumnType("bigint");

                    b.HasKey("SamlSettingsId");

                    b.ToTable("SamlSettings");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.Scenarios.ScenarioAccount", b =>
                {
                    b.Property<long>("ScenarioAccountId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long>("AccountId")
                        .HasColumnType("bigint");

                    b.Property<long?>("ScenarioSessionId")
                        .HasColumnType("bigint");

                    b.HasKey("ScenarioAccountId");

                    b.HasIndex("ScenarioSessionId");

                    b.ToTable("ScenarioAccounts");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.Scenarios.ScenarioSession", b =>
                {
                    b.Property<long>("ScenarioSessionId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<int>("CurrentStep")
                        .HasColumnType("int");

                    b.Property<int>("ScenarioId")
                        .HasColumnType("int");

                    b.Property<DateTime>("StartTime")
                        .HasColumnType("datetime2");

                    b.Property<string>("UserSubject")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("ScenarioSessionId");

                    b.HasIndex("UserSubject");

                    b.ToTable("ScenarioSessions");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.ServiceProviderRegistration", b =>
                {
                    b.Property<long>("ServiceProviderRegistrationId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long>("AccountId")
                        .HasColumnType("bigint");

                    b.Property<byte[]>("Commitment")
                        .IsRequired()
                        .HasColumnType("varbinary(max)");

                    b.HasKey("ServiceProviderRegistrationId");

                    b.ToTable("ServiceProviderRegistrations");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.ServiceProviders.GroupRelation", b =>
                {
                    b.Property<long>("GroupRelationId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<string>("AssetId")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("GroupName")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("GroupOwnerKey")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Issuer")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("GroupRelationId");

                    b.HasIndex("AssetId");

                    b.HasIndex("Issuer");

                    b.ToTable("GroupRelations");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.ServiceProviders.RegistrationCommitment", b =>
                {
                    b.Property<long>("RegistrationCommitmentId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<string>("AssetId")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("Commitment")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("Issuer")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("ServiceProviderInfo")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("RegistrationCommitmentId");

                    b.HasIndex("AssetId");

                    b.HasIndex("Commitment")
                        .IsUnique();

                    b.HasIndex("Issuer");

                    b.ToTable("RegistrationCommitments");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.ServiceProviders.RelationGroup", b =>
                {
                    b.Property<long>("RelationGroupId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long?>("AccountId")
                        .HasColumnType("bigint");

                    b.Property<string>("GroupName")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("RelationGroupId");

                    b.HasIndex("AccountId");

                    b.ToTable("RelationGroups");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.ServiceProviders.RelationRecord", b =>
                {
                    b.Property<long>("RelationRecordId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long?>("AccountId")
                        .HasColumnType("bigint");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<long?>("RegistrationCommitmentId")
                        .HasColumnType("bigint");

                    b.Property<long?>("RelationGroupId")
                        .HasColumnType("bigint");

                    b.Property<string>("RootAttributeValue")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("RelationRecordId");

                    b.HasIndex("AccountId");

                    b.HasIndex("RegistrationCommitmentId");

                    b.HasIndex("RelationGroupId");

                    b.ToTable("RelationRecords");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.ServiceProviders.SpUserTransaction", b =>
                {
                    b.Property<long>("SpUserTransactionId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long>("AccountId")
                        .HasColumnType("bigint");

                    b.Property<bool>("IsCompromised")
                        .HasColumnType("bit");

                    b.Property<bool>("IsConfirmed")
                        .HasColumnType("bit");

                    b.Property<bool>("IsProcessed")
                        .HasColumnType("bit");

                    b.Property<long>("ServiceProviderRegistrationId")
                        .HasColumnType("bigint");

                    b.Property<string>("TransactionDescription")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("TransactionId")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("SpUserTransactionId");

                    b.HasIndex("AccountId");

                    b.HasIndex("TransactionId")
                        .IsUnique();

                    b.ToTable("SpUserTransactions");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.SpAttribute", b =>
                {
                    b.Property<long>("SpAttributeId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long>("AccountId")
                        .HasColumnType("bigint");

                    b.Property<byte[]>("AssetId")
                        .IsRequired()
                        .HasColumnType("varbinary(max)");

                    b.Property<string>("AttributeSchemeName")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Content")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<byte[]>("IssuingCommitment")
                        .IsRequired()
                        .HasColumnType("varbinary(max)");

                    b.Property<byte[]>("OriginalBlindingFactor")
                        .IsRequired()
                        .HasColumnType("varbinary(max)");

                    b.Property<byte[]>("OriginalCommitment")
                        .IsRequired()
                        .HasColumnType("varbinary(max)");

                    b.Property<string>("Source")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("SpAttributeId");

                    b.ToTable("SpAttributes");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.SpDocument", b =>
                {
                    b.Property<long>("SpDocumentId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long?>("AccountId")
                        .HasColumnType("bigint");

                    b.Property<string>("DocumentName")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("Hash")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<decimal>("LastChangeRecordHeight")
                        .HasColumnType("decimal(20,0)");

                    b.HasKey("SpDocumentId");

                    b.HasIndex("AccountId");

                    b.HasIndex("DocumentName");

                    b.ToTable("SpDocuments");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.SpDocumentAllowedSigner", b =>
                {
                    b.Property<long>("SpDocumentAllowedSignerId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long?>("AccountId")
                        .HasColumnType("bigint");

                    b.Property<string>("BlindingFactor")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<long?>("DocumentSpDocumentId")
                        .HasColumnType("bigint");

                    b.Property<string>("GroupCommitment")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("GroupIssuer")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("GroupName")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("SpDocumentAllowedSignerId");

                    b.HasIndex("AccountId");

                    b.HasIndex("DocumentSpDocumentId");

                    b.ToTable("SpDocumentAllowedSigners");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.SpDocumentSignature", b =>
                {
                    b.Property<long>("SpDocumentSignatureId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<decimal>("DocumentRecordHeight")
                        .HasColumnType("decimal(20,0)");

                    b.Property<byte[]>("DocumentSignRecord")
                        .IsRequired()
                        .HasColumnType("varbinary(max)");

                    b.Property<long?>("DocumentSpDocumentId")
                        .HasColumnType("bigint");

                    b.Property<decimal>("SignatureRecordHeight")
                        .HasColumnType("decimal(20,0)");

                    b.HasKey("SpDocumentSignatureId");

                    b.HasIndex("DocumentRecordHeight");

                    b.HasIndex("DocumentSpDocumentId");

                    b.HasIndex("SignatureRecordHeight");

                    b.ToTable("SpDocumentSignatures");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.SpIdenitityValidation", b =>
                {
                    b.Property<long>("SpIdenitityValidationId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long>("AccountId")
                        .HasColumnType("bigint");

                    b.Property<byte[]>("GroupIdCriterion")
                        .IsRequired()
                        .HasColumnType("varbinary(max)");

                    b.Property<int?>("NumericCriterion")
                        .HasColumnType("int");

                    b.Property<string>("SchemeName")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("ValidationType")
                        .HasColumnType("int");

                    b.HasKey("SpIdenitityValidationId");

                    b.ToTable("SpIdenitityValidations");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.SynchronizationStatus", b =>
                {
                    b.Property<long>("SynchronizationStatusId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long>("AccountId")
                        .HasColumnType("bigint");

                    b.Property<long>("LastUpdatedCombinedBlockHeight")
                        .HasColumnType("bigint");

                    b.HasKey("SynchronizationStatusId");

                    b.HasIndex("AccountId");

                    b.ToTable("SynchronizationStatuses");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.SystemSettings", b =>
                {
                    b.Property<int>("SystemSettingsId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<byte[]>("BiometricSecretKey")
                        .IsRequired()
                        .HasColumnType("varbinary(max)");

                    b.Property<byte[]>("InitializationVector")
                        .IsRequired()
                        .HasColumnType("varbinary(max)");

                    b.HasKey("SystemSettingsId");

                    b.ToTable("SystemSettings");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.UserAssociatedAttribute", b =>
                {
                    b.Property<long>("UserAssociatedAttributeId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long>("AccountId")
                        .HasColumnType("bigint");

                    b.Property<string>("AttributeSchemeName")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Content")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("CreationTime")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("LastUpdateTime")
                        .HasColumnType("datetime2");

                    b.Property<byte[]>("RootAssetId")
                        .HasColumnType("varbinary(max)");

                    b.Property<string>("Source")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("UserAssociatedAttributeId");

                    b.ToTable("UserAssociatedAttributes");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.UserGroupRelation", b =>
                {
                    b.Property<long>("UserGroupRelationId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long?>("AccountId")
                        .HasColumnType("bigint");

                    b.Property<string>("AssetId")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("GroupName")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("GroupOwnerKey")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("GroupOwnerName")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Issuer")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("UserGroupRelationId");

                    b.HasIndex("AccountId");

                    b.HasIndex("AssetId");

                    b.HasIndex("Issuer");

                    b.ToTable("UserGroupRelations");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.UserRootAttribute", b =>
                {
                    b.Property<long>("UserAttributeId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long>("AccountId")
                        .HasColumnType("bigint");

                    b.Property<byte[]>("AnchoringOriginationCommitment")
                        .IsRequired()
                        .HasColumnType("varbinary(max)");

                    b.Property<byte[]>("AssetId")
                        .IsRequired()
                        .HasColumnType("varbinary(max)");

                    b.Property<DateTime?>("ConfirmationTime")
                        .HasColumnType("datetime2");

                    b.Property<string>("Content")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("CreationTime")
                        .HasColumnType("datetime2");

                    b.Property<bool>("IsOverriden")
                        .HasColumnType("bit");

                    b.Property<byte[]>("IssuanceCommitment")
                        .IsRequired()
                        .HasColumnType("varbinary(max)");

                    b.Property<byte[]>("IssuanceTransactionKey")
                        .IsRequired()
                        .HasColumnType("varbinary(max)");

                    b.Property<byte[]>("LastBlindingFactor")
                        .IsRequired()
                        .HasColumnType("varbinary(max)");

                    b.Property<byte[]>("LastCommitment")
                        .IsRequired()
                        .HasColumnType("varbinary(max)");

                    b.Property<byte[]>("LastDestinationKey")
                        .IsRequired()
                        .HasColumnType("varbinary(max)");

                    b.Property<byte[]>("LastTransactionKey")
                        .IsRequired()
                        .HasColumnType("varbinary(max)");

                    b.Property<DateTime?>("LastUpdateTime")
                        .HasColumnType("datetime2");

                    b.Property<string>("NextKeyImage")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<byte[]>("OriginalBlindingFactor")
                        .IsRequired()
                        .HasColumnType("varbinary(max)");

                    b.Property<string>("SchemeName")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Source")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("UserAttributeId");

                    b.ToTable("UserRootAttributes");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.UserSettings", b =>
                {
                    b.Property<long>("UserSettingsId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long?>("AccountId")
                        .HasColumnType("bigint");

                    b.Property<bool>("IsAutoTheftProtection")
                        .HasColumnType("bit");

                    b.HasKey("UserSettingsId");

                    b.HasIndex("AccountId");

                    b.ToTable("UserSettings");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.UserTransactionSecret", b =>
                {
                    b.Property<long>("UserTransactionSecretId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long>("AccountId")
                        .HasColumnType("bigint");

                    b.Property<string>("AssetId")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Issuer")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("KeyImage")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("UserTransactionSecretId");

                    b.HasIndex("AccountId");

                    b.HasIndex("KeyImage");

                    b.ToTable("UserTransactionSecrets");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.Users.UserIdentityIssuer", b =>
                {
                    b.Property<long>("UserIdentityIssuerId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<string>("Alias")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Key")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<DateTime>("UpdateTime")
                        .HasColumnType("datetime2");

                    b.HasKey("UserIdentityIssuerId");

                    b.HasIndex("Key")
                        .IsUnique();

                    b.ToTable("UserIdentityIssuers");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.Users.UserRegistration", b =>
                {
                    b.Property<long>("UserRegistrationId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long?>("AccountId")
                        .HasColumnType("bigint");

                    b.Property<string>("AssetId")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("Commitment")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Issuer")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("ServiceProviderInfo")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("UserRegistrationId");

                    b.HasIndex("AccountId");

                    b.HasIndex("AssetId");

                    b.HasIndex("Issuer");

                    b.ToTable("UserRegistrations");
                });

            modelBuilder.Entity("O10.Client.DataLayer.ElectionCommittee.EcCandidateRecord", b =>
                {
                    b.HasOne("O10.Client.DataLayer.ElectionCommittee.EcPollRecord", "EcPollRecord")
                        .WithMany("Candidates")
                        .HasForeignKey("EcPollRecordId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("O10.Client.DataLayer.ElectionCommittee.EcPollSelection", b =>
                {
                    b.HasOne("O10.Client.DataLayer.ElectionCommittee.EcPollRecord", "EcPollRecord")
                        .WithMany("PollSelections")
                        .HasForeignKey("EcPollRecordId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.AutoLogin", b =>
                {
                    b.HasOne("O10.Client.DataLayer.Model.Account", "Account")
                        .WithMany()
                        .HasForeignKey("AccountId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.IdentityAttribute", b =>
                {
                    b.HasOne("O10.Client.DataLayer.Model.Identity", "Identity")
                        .WithMany("Attributes")
                        .HasForeignKey("IdentityId");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.Scenarios.ScenarioAccount", b =>
                {
                    b.HasOne("O10.Client.DataLayer.Model.Scenarios.ScenarioSession", "ScenarioSession")
                        .WithMany()
                        .HasForeignKey("ScenarioSessionId");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.ServiceProviders.RelationGroup", b =>
                {
                    b.HasOne("O10.Client.DataLayer.Model.Account", "Account")
                        .WithMany()
                        .HasForeignKey("AccountId");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.ServiceProviders.RelationRecord", b =>
                {
                    b.HasOne("O10.Client.DataLayer.Model.Account", "Account")
                        .WithMany()
                        .HasForeignKey("AccountId");

                    b.HasOne("O10.Client.DataLayer.Model.ServiceProviders.RegistrationCommitment", "RegistrationCommitment")
                        .WithMany()
                        .HasForeignKey("RegistrationCommitmentId");

                    b.HasOne("O10.Client.DataLayer.Model.ServiceProviders.RelationGroup", "RelationGroup")
                        .WithMany()
                        .HasForeignKey("RelationGroupId");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.SpDocument", b =>
                {
                    b.HasOne("O10.Client.DataLayer.Model.Account", "Account")
                        .WithMany()
                        .HasForeignKey("AccountId");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.SpDocumentAllowedSigner", b =>
                {
                    b.HasOne("O10.Client.DataLayer.Model.Account", "Account")
                        .WithMany()
                        .HasForeignKey("AccountId");

                    b.HasOne("O10.Client.DataLayer.Model.SpDocument", "Document")
                        .WithMany("AllowedSigners")
                        .HasForeignKey("DocumentSpDocumentId");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.SpDocumentSignature", b =>
                {
                    b.HasOne("O10.Client.DataLayer.Model.SpDocument", "Document")
                        .WithMany("DocumentSignatures")
                        .HasForeignKey("DocumentSpDocumentId");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.SynchronizationStatus", b =>
                {
                    b.HasOne("O10.Client.DataLayer.Model.Account", "Account")
                        .WithMany()
                        .HasForeignKey("AccountId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.UserGroupRelation", b =>
                {
                    b.HasOne("O10.Client.DataLayer.Model.Account", "Account")
                        .WithMany()
                        .HasForeignKey("AccountId");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.UserSettings", b =>
                {
                    b.HasOne("O10.Client.DataLayer.Model.Account", "Account")
                        .WithMany()
                        .HasForeignKey("AccountId");
                });

            modelBuilder.Entity("O10.Client.DataLayer.Model.Users.UserRegistration", b =>
                {
                    b.HasOne("O10.Client.DataLayer.Model.Account", "Account")
                        .WithMany()
                        .HasForeignKey("AccountId");
                });
#pragma warning restore 612, 618
        }
    }
}
